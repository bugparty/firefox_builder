name: docker build
run-name: docker build 🚀
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - run: echo "🎉 The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "🐧 This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "🔎 The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - name: Maximize build space
        uses: easimon/maximize-build-space@master
        with:
          swap-size-mb: 1024
          remove-dotnet: 'true'
          remove-android: 'true'
          remove-haskell: 'true'
      - name: Check out repository code
        uses: actions/checkout@v3
        with:
          repository: bugparty/gecko-dev
          ref: aprara_dev
      - uses: addnab/docker-run-action@v3
        with:
          registry: registry.docker.com
          image: bowmanhan/gecko_builder:latest
          options: -v ${{ github.workspace }}:/home/bowman/gecko_dev
          run: |
            echo "Running Script"
            cd gecko_dev
            ls -l
            ./mach build